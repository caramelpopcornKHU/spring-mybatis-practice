<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper-emp">
	<sql id="empColumns">
	${alias}.employee_id id,
	${alias}.first_name firstName,
	${alias}.last_name lastName,
	${alias}.email email,
	${alias}.phone_number phoneNumber,
	${alias}.hire_date hireDate,
	${alias}.job_id JobId ,
	${alias}.salary salary ,
	${alias}.commission_pct commissionPct,
	${alias}.manager_id managerId,
	${alias}.department_id departmentId 
	</sql>

	<select id="getEmpById" resultType="myspring.Emp">
		select
		employee_id 
		, first_name 
		, last_name 
		, email
		, phone_number 
		, hire_date 
		, job_id 
		, salary
		, commission_pct 
		, manager_id 
		, department_id 
		from employees
		where employee_id = #{id}
	</select>
	
	<select id="getEmpByFirstNLastName" parameterType="myspring.Emp" resultType="myspring.Emp">
		select
		<include refid="empColumns">
			<property name="alias" value="e"/>
		</include>
		from employees e
		where 1=1
		<choose>
			<when test="firstName != null">
				AND first_name = #{firstName} </when>
			<when test="lastName != null">
				AND last_name = #{lastName} </when>
		</choose>
	</select>
	
	<select id="getEmpById2" parameterType="int" resultType="myspring.Emp">
		select
		<include refid="empColumns">
			<property name="alias" value="e"/>
		</include>
		from employees e
		where e.employee_id = #{id}
	</select>
	
	<select id="getEmpListByDeptId" parameterType="int"
		resultType="myspring.Emp">
		select
		employee_id id
		, first_name firstName
		, last_name lastName
		, email
		, phone_number phoneNumber
		, hire_date hireDate
		, job_id jobId
		, salary
		, commission_pct commissionPct
		, manager_id managerId
		, department_id departmentId
		from employees
		where department_id = #{departmentId}
	</select>
	 
	<select id="getEmpListByJobId" parameterType="String"
		resultType="myspring.Emp">
		select
		employee_id 
		, first_name 
		, last_name 
		, email
		, phone_number 
		, hire_date 
		, job_id 
		, salary
		, commission_pct 
		, manager_id 
		, department_id 
		from employees
		where job_id = #{jobId}
	</select>

</mapper>